async function validatePhoneNumber(event) {
  event.preventDefault(); // Prevent form submission
  const phoneNumberInput = document.getElementById("phoneNumberInput");
  const phoneNumber = phoneNumberInput.value;

  try {
    console.log("Sending phone number:", phoneNumber); // Log the input

    // Use a CORS proxy for fetch
    const proxyUrl = "https://corsproxy.io/?";
    const targetUrl = "https://script.google.com/macros/s/AKfycbxtds7WT5J9qnECUfKsluE2QsdiEPjxReuk9jnerGiluG_a2Kdij3_bCYKYCYF6BUxevA/exec";

    const response = await fetch(proxyUrl + encodeURIComponent(targetUrl), {
      method: "POST", // POST request
      headers: { "Content-Type": "application/json" }, // JSON header
      body: JSON.stringify({ phoneNumber }) // JSON payload
    });

    console.log("Response status:", response.status); // Log response status

    const result = await response.json();
    console.log("Response data:", result); // Log response data

    if (result.status === "duplicate") {
      alert(result.message); // Notify about duplicate
      phoneNumberInput.value = ""; // Clear the input field
    } else if (result.status === "ok") {
      alert(result.message); // Notify about unique number
    } else {
      alert("An error occurred: " + result.message); // Handle errors
    }
  } catch (error) {
    console.error("Fetch error:", error); // Log any fetch errors
    alert("Failed to validate phone number: " + error.message);
  }
}
